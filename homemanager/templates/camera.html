{% extends "base.html" %}

{% block dropdown %}
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Cameras</a>
<ul class="dropdown-menu" aria-labelledby="navbarDropdown">
    {% for camera in cameras %}
    <li><a class="dropdown-item" href="/camera/{{camera[0]}}">{{camera[0]}}</a></li>
    {% end %}
</ul>
</li>
{% end %}

{% block body %}
<div class="card">
    <div class="card-body">
        <h5 class="card-title"><a href="/camera/{{cameras[idx][0]}}">{{cameras[idx][0]}}</a></h5>
        <p class="card-text">
            <ul class="list-unstyled">
                <li>Stream: {{cameras[idx][2]}}</li>
                <li>Motion detection: {{cameras[idx][3]}}</li>
                <li>Night mode: {{cameras[idx][4]}}</li>
            </ul>
        </p>
    </div>
    <video class="video" id="/video/{{cameras[idx][0]}}/{{cameras[idx][1]}}" controls loop style="width: 100%;"></video>
</div>

<script>
var videoId = getVideoId();
playVideo(videoId);
</script>

{% end %}
